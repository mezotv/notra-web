---

---
<section id="waitlist">
<p>Join the waitlist to be the first to know when we launch:</p>
<form id="waitlist-form" class="not-prose mt-6 flex flex-col gap-3 sm:flex-row sm:items-start">
  <input
    type="email"
    name="email"
    placeholder="email@example.com"
    required
    class="w-full rounded-lg border border-zinc-300 bg-white px-4 py-2.5 text-zinc-900 placeholder:text-zinc-400 focus:border-violet-500 focus:outline-none focus:ring-2 focus:ring-violet-500/20 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-100 dark:placeholder:text-zinc-500 dark:focus:border-violet-400 sm:flex-1"
  />
  <button
    type="submit"
    class="rounded-lg bg-violet-600 px-6 py-2.5 font-medium text-white transition-colors hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-violet-500/20 disabled:cursor-not-allowed disabled:opacity-50"
  >
    Join Waitlist
  </button>
</form>
<p id="waitlist-message" class="mt-2 text-sm hidden"></p>
</section>

<script>
  const form = document.getElementById("waitlist-form") as HTMLFormElement;
  const message = document.getElementById("waitlist-message") as HTMLParagraphElement;
  const button = form.querySelector("button") as HTMLButtonElement;

  form.addEventListener("submit", async (e) => {
    e.preventDefault();

    const formData = new FormData(form);
    const email = formData.get("email") as string;

    button.disabled = true;
    button.textContent = "Joining...";
    message.classList.add("hidden");

    try {
      const response = await fetch("/waitlist", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ email }),
      });

      const data = await response.json();

      message.classList.remove("hidden");

      if (response.ok) {
        message.textContent = "You're on the waitlist!";
        message.className = "mt-2 text-sm text-green-600 dark:text-green-400";
        form.reset();
      } else {
        message.textContent = data.error || "Something went wrong";
        message.className = "mt-2 text-sm text-red-600 dark:text-red-400";
      }
    } catch {
      message.classList.remove("hidden");
      message.textContent = "Something went wrong. Please try again.";
      message.className = "mt-2 text-sm text-red-600 dark:text-red-400";
    } finally {
      button.disabled = false;
      button.textContent = "Join Waitlist";
    }
  });
</script>
